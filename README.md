# 2ch Posts Pictures Roulette
Скрипт рулетки по типу B-LEVEL COUNTRY, продвинутая версия.
Исправлены многие недостатки предыдущего простого скрипта, внесена инкапсуляция от имиджборды и самого файла рулетки, скрипт открыт к изменениям.

## Требования:
- Вебсервер с php7, php7-curl.
Можно запускать даже на более-менее нормальной мобиле.
Например, отлично работает на приложении веб-сервера для ведра: [Сервер для PHP](https://play.google.com/store/apps/details?id=com.esminis.server.php&hl=ru).
- Рекомендуется в php.ini увеличить memory_limit до 256-512M, иначе на больших пикчах скрипт может падать.

## Установка:
- Закинуть папку со скриптом в какую-либо директорию а вебсервере. Это все.


## Использование:
1. Задаем настройки (борда, номер треда, тип рулетки) в файле config.ini.
2. Переходим в папку со скриптом из браузера, там будет страница с двумя кнопками: **Загрузить новые посты** и **Заполнить изображение**.
3. Чтобы скачать новые пикчи, жмем первую ссылку. Скрипт скачает те посты с треда, что попадают под комбинации из шаблона. Если комбо уже выбито, оно не заменяется на другое. Допустим, если есть два трипла из одинаковых цифр, то второй считается даблом, а не заменит первый.
4. Чтобы из этой кучи пикч получить итоговый файл, жмем вторую ссылку. Результат будет сохранен в папке IMAGES_RESULT. Эта функция жрет немало оперативной памяти. Смотреть про memory_limit в начале.

Заполнять можно спокойно на протяжении нескольких тредов. Ибо лоадер будет скачивать только новые комбинации, которых еще нет в папке IMAGES_TEMP.
Таким образом, уже выпавшим комбинациям ничего не грозит.

Если необходимо исключить некоторые посты из скачивания (например, если пост с результатом заполнения выбил какое-то комбо, или еще по какой причине), в настройках можно исключать посты по номерам.

Чтобы начать заново, нужно лишь очистить папку IMAGES_TEMP.

## Создание других шаблонов:
Вы можете создать собственный шаблон для заполнения скриптом.
Ознакомьтесь с содержимым папки TEMPLATES.
Создайте файл шаблона и json-файл конфига с указанием местоположения ячеек.
